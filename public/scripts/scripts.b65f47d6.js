"use strict";angular.module("1664App",["ngCookies","ngResource","ngRoute"]).config(["$routeProvider","$httpProvider",function(a,b){b.defaults.headers.common["X-Parse-Application-Id"]="6vWMs9LaiIjILYw2EF2Y4Y455POAP5ognYN2eDXK",b.defaults.headers.common["X-Parse-REST-API-Key"]="45v3QGdVFzXxYIHZWOATmwzs8VkE4oWDhhjIA0Ew",a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/beacon",{templateUrl:"views/beacon.html",controller:"BeaconCtrl"}).when("/coupon",{templateUrl:"views/coupon.html",controller:"CouponCtrl"}).when("/zone",{templateUrl:"views/zone.html",controller:"ZoneCtrl"}).when("/user",{templateUrl:"views/user.html",controller:"UserCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/#/"})}]).controller("MenuController",["$scope","$location",function(a,b){a.isActive=function(a){return a===b.path()}}]);var burgerAppServices=angular.module("1664App");burgerAppServices.factory("burgerService",["$http",function(a){var b={},c="https://api.parse.com/1/classes/";return b.getBeacons=function(){return a({method:"GET",url:c+"beacon/"})},b.deleteBeacon=function(b){return b?a({method:"DELETE",url:c+"beacon/"+b.objectId}):!1},b.editBeacon=function(b){if(!b)return!1;var d=b.objectId?"PUT":"POST";return a({url:c+"beacon/"+("undefined"!=typeof b.objectId?b.objectId:""),method:d,data:b})},b.getZones=function(){return a({method:"GET",url:c+"zone/",params:{include:"beacon_id"}})},b.deleteZone=function(b){return b?a({method:"DELETE",url:c+"zone/"+b.objectId}):!1},b.editZone=function(b){if(!b)return!1;var d=b.objectId?"PUT":"POST";return b.selected_beacon_id!==!1&&(b.beacon_id=[],b.beacon_id.push({__type:"Pointer",className:"beacon",objectId:b.selected_beacon_id})),delete b.selected_zone_id,a({url:c+"zone/"+("undefined"!=typeof b.objectId?b.objectId:""),method:d,data:b})},b.getCoupons=function(){return a({method:"GET",url:c+"coupon/",params:{include:"zone_id"}})},b.deleteCoupon=function(b){return b?a({method:"DELETE",url:c+"coupon/"+b.objectId}):!1},b.editCoupon=function(b){if(!b)return!1;var d=b.objectId?"PUT":"POST";return b.selected_zone_id!==!1&&(b.zone_id={__type:"Pointer",className:"zone",objectId:b.selected_zone_id}),delete b.selected_zone_id,a({url:c+"coupon/"+("undefined"!=typeof b.objectId?b.objectId:""),method:d,data:b})},b}]),angular.module("1664App").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("1664App").controller("BeaconCtrl",["$scope","$http","burgerService",function(a,b,c){a.beacon=[],a.beacon.list=[],a.beacon.edit={},a.resetBeaconEdit=function(){a.beacon.edit={}},a.resetBeaconEdit(),a.read=function(){c.getBeacons().then(function(b){a.beacon.list=b.data.results})},a["delete"]=function(b){c.deleteBeacon(b).then(function(){a.read()})},a.edit=function(){c.editBeacon(a.beacon.edit).then(function(){a.read(),a.resetBeaconEdit()})},a.add=function(){a.resetBeaconEdit()},a.load=function(b){a.beacon.edit=b}}]),angular.module("1664App").controller("ZoneCtrl",["$scope","$http","burgerService",function(a,b,c){a.zone=[],a.zone.list=[],a.zone.edit={},a.beacons=[],a.reset=function(){a.zone.edit={},a.zone.edit.selected_beacon_id=!1},a.reset(),a.read=function(){c.getZones().then(function(b){a.zone.list=b.data.results})},a["delete"]=function(b){c.deleteZone(b).then(function(){a.read()})},a.add=function(){a.reset(),a.loadBeacons()},a.edit=function(){c.editZone(a.zone.edit).then(function(){a.reset(),a.read()})},a.load=function(b){a.loadBeacons(),a.zone.edit=b,a.zone.beacon_id=b.beacon_id[0],a.zone.edit.selected_beacon_id=b.beacon_id.objectId},a.loadBeacons=function(){c.getBeacons().then(function(b){a.beacons.available=b.data.results})}}]),angular.module("1664App").controller("CouponCtrl",["$scope","$http","burgerService",function(a,b,c){a.coupon=[],a.coupon.list=[],a.zones=[],a.resetCouponEdit=function(){a.coupon.edit={},a.coupon.edit.selected_zone_id=!1},a.resetCouponEdit(),a.read=function(){c.getCoupons().then(function(b){a.coupon.list=b.data.results})},a["delete"]=function(b){c.deleteCoupon(b).then(function(){a.read()})},a.closeModal=function(){},a.edit=function(){c.editCoupon(a.coupon.edit).then(function(){a.read(),a.resetCouponEdit()})},a.loadZones=function(){c.getZones().then(function(b){a.zones.available=b.data.results})},a.add=function(){a.resetCouponEdit(),a.loadZones()},a.load=function(b){a.loadZones(),a.coupon.edit=b,a.coupon.edit.selected_zone_id=b.zone_id.objectId}}]),angular.module("1664App").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);